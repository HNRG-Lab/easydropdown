{"version":3,"sources":["webpack://easydropdown/webpack/universalModuleDefinition","webpack://easydropdown/webpack/bootstrap","webpack://easydropdown/./node_modules/helpful-merge/dist/index.js","webpack://easydropdown/./src/Shared/Util/dispatchOpen.ts","webpack://easydropdown/./src/Shared/Util/composeClassName.ts","webpack://easydropdown/./node_modules/helpful-merge/dist/Constants/ArrayStrategy.js","webpack://easydropdown/./src/Shared/Util/closestParent.ts","webpack://easydropdown/./src/Events/Constants/Selectors.ts","webpack://easydropdown/./src/Shared/Util/killSelectReaction.ts","webpack://easydropdown/./src/Easydropdown/cache.ts","webpack://easydropdown/./node_modules/helpful-merge/dist/merge.js","webpack://easydropdown/./node_modules/helpful-merge/dist/Messages.js","webpack://easydropdown/./src/Config/Config.ts","webpack://easydropdown/./src/Shared/Util/Constants/CollisionType.ts","webpack://easydropdown/./src/Shared/Util/getIsMobilePlatform.ts","webpack://easydropdown/./src/Events/Constants/KeyCodes.ts","webpack://easydropdown/./src/Events/Handlers/handleWindowClick.ts","webpack://easydropdown/./src/Renderer/Constants/AttributeChangeType.ts","webpack://easydropdown/./src/Renderer/Constants/DomChangeType.ts","webpack://easydropdown/./src/State/Constants/BodyStatus.ts","webpack://easydropdown/./src/State/Constants/ScrollStatus.ts","webpack://easydropdown/./src/State/Group.ts","webpack://easydropdown/./src/State/Option.ts","webpack://easydropdown/./src/umd.ts","webpack://easydropdown/./node_modules/custom-event-polyfill/polyfill.js","webpack://easydropdown/./src/Shared/Polyfills/Element.matches.ts","webpack://easydropdown/./src/Easydropdown/factory.ts","webpack://easydropdown/./src/Easydropdown/Easydropdown.ts","webpack://easydropdown/./node_modules/helpful-merge/dist/Config.js","webpack://easydropdown/./node_modules/helpful-merge/dist/deriveCustomTypeInstance.js","webpack://easydropdown/./node_modules/helpful-merge/dist/FluentMerge.js","webpack://easydropdown/./node_modules/helpful-merge/dist/handleMergeError.js","webpack://easydropdown/./src/Config/Behavior.ts","webpack://easydropdown/./src/Config/Callbacks.ts","webpack://easydropdown/./src/Config/ClassNames.ts","webpack://easydropdown/./src/Events/bindEvents.ts","webpack://easydropdown/./src/Shared/Util/throttle.ts","webpack://easydropdown/./src/Events/EventBinding.ts","webpack://easydropdown/./src/Events/getEventsList.ts","webpack://easydropdown/./src/Events/Handlers/handleBodyClick.ts","webpack://easydropdown/./src/Events/Handlers/handleBodyMousedown.ts","webpack://easydropdown/./src/Events/Handlers/handleBodyMouseover.ts","webpack://easydropdown/./src/Events/Handlers/handleHeadClick.ts","webpack://easydropdown/./src/Shared/Util/detectBodyCollision.ts","webpack://easydropdown/./src/Events/Handlers/handleItemsListScroll.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectBlur.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectFocus.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectInvalid.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectKeydown.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectKeydownDown.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectKeydownUp.ts","webpack://easydropdown/./src/Events/Handlers/handleSelectKeypress.ts","webpack://easydropdown/./src/Renderer/Renderer.ts","webpack://easydropdown/./src/Components/root.ts","webpack://easydropdown/./src/Components/body.ts","webpack://easydropdown/./src/Components/group.ts","webpack://easydropdown/./src/Components/option.ts","webpack://easydropdown/./src/Components/head.ts","webpack://easydropdown/./src/Components/arrow.ts","webpack://easydropdown/./src/Components/value.ts","webpack://easydropdown/./src/Shared/Util/createDomElementFromHtml.ts","webpack://easydropdown/./src/Renderer/Dom.ts","webpack://easydropdown/./src/Renderer/domDiff.ts","webpack://easydropdown/./src/Renderer/PatchCommand.ts","webpack://easydropdown/./src/Renderer/domPatch.ts","webpack://easydropdown/./src/Shared/Util/pollForSelectChange.ts","webpack://easydropdown/./src/Shared/Util/pollForSelectMutation.ts","webpack://easydropdown/./src/State/InjectedActions/closeOthers.ts","webpack://easydropdown/./src/State/InjectedActions/scrollToView.ts","webpack://easydropdown/./src/State/StateManager.ts","webpack://easydropdown/./src/State/resolveActions.ts","webpack://easydropdown/./src/State/StateMapper.ts","webpack://easydropdown/./src/State/State.ts","webpack://easydropdown/./src/Easydropdown/Timers.ts","webpack://easydropdown/./src/Easydropdown/EasydropdownFacade.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","merge_1","ArrayStrategy_1","ArrayStrategy","default","dispatchOpen","injectedDetectBodyCollision","actions","config","dom","collisionData","maxVisibleItems","maxVisibleItemsOverride","behavior","isScrollable","item","length","maxBodyHeight","sumItemsHeight","open","type","boundDispatchOpen","tokens","reduce","classNames","token","push","predicate","className","join","el","selector","includeSelf","parent","parentNode","matches","document","body","OPTION","select","timers","clearTimeout","keyingTimeoutId","keying","setTimeout","resetKeying","disabled","focus","Config_1","deriveCustomTypeInstance_1","FluentMerge_1","handleMergeError_1","Messages","merge","target","source","options","isClientSide","sourceKeys","deep","PUSH","REPLACE","indexOf","arrayStrategy","RangeError","INVALID_ARRAY_STRATEGY","TypeError","TYPE_ERROR_TARGET","TYPE_ERROR_SOURCE","Array","isArray","apply","toString","getOwnPropertyNames","_i","sourceKeys_1","descriptor","getOwnPropertyDescriptor","set","includeReadOnly","includeNonEmurable","Node","documentElement","useReferenceIfArray","useReferenceIfTargetUnset","err","errorMessage","preserveTypeIfTargetUnset","keys","forEach","method","_a","args","arguments","createFluent","MERGE_ERROR","offender","suggestion","strategy","callbacks","seal","this","Config","CollisionType","userAgent","isIos","test","navigator","platform","maxTouchPoints","isAndroid","isOperaMini","isWindowsPhone","UP","DOWN","SPACE","ENTER","ESC","_","state","isOpen","close","blur","AttributeChangeType","DomChangeType","BodyStatus","ScrollStatus","label","isDisabled","Group","Option","ce","CustomEvent","cancelable","preventDefault","defaultPrevented","Error","e","event","params","evt","origPrevent","bubbles","detail","undefined","createEvent","initCustomEvent","Event","Element","msMatchesSelector","selectElementOrSelector","selectElement","querySelector","HTMLSelectElement","multiple","cachedInstance","instance","factoryFn","decoratedFactory","all","selects","querySelectorAll","destroy","slice","mapFromSelect","renderer","render","proxyActions","closeOthers","scrollToView","handleStateUpdate","eventBindings","pollChangeIntervalId","liveUpdates","pollMutationIntervalId","refresh","nextValue","update","group","option","queryDomRefs","validate","isRequired","hasValue","invalidate","clear","binding","unbind","cacheIndex","splice","cb","onOpen","onClose","onSelect","onOptionClick","getOptionFromIndex","focusedIndex","Easydropdown","constructor","FluentMerge","sources","to","from","with","exec","_this","reduceBestMatch","offendingKeyLower","offendingKey","currBestMatch","currKey","totalMatching","getTotalMatching","toLowerCase","delta","Math","abs","possibleKey","longer","shorter","leftPointer","leftInnerPointer","leftTotalMatching","lastCommonIndex","rightPointer","rightInnerPointer","rightTotalMatching","longerLastIndex","shorterLastIndex","min","message","isSealed","isExtensible","reducer","primer","Infinity","bestMatch","showPlaceholderWhenOpen","openOnFocus","closeOnSelect","useNativeUiOnMobile","loop","clampMaxVisibleItems","Behavior","Callbacks","rootOpen","rootOpenAbove","rootOpenBelow","rootDisabled","rootInvalid","rootFocused","rootHasValue","rootNative","gradientTop","gradientBottom","head","arrow","bodyScrollable","bodyAtTop","bodyAtBottom","itemsList","groupDisabled","groupHasLabel","groupLabel","optionDisabled","optionFocused","optionSelected","ClassNames","bindEvent","handlerParams","eventBindingRaw","eventBinding","boundHandler","handler","throttle","addEventListener","map","delay","timerId","last","now","Date","later","difference","debounce","passive","removeEventListener","EventBinding","stopPropagation","Selectors","optionIndex","selectOption","startClickSelecting","isKeying","focusOption","handleHeadClick","injectedGetIsMobilePlatform","isUseNativeMode","isMobilePlatform","isClosed","boundHandleHeadClick","mapCollisionData","deltaTop","deltaBottom","maxHeight","itemHeight","NONE","largestDelta","max","TOP","BOTTOM","floor","bbHead","getBoundingClientRect","wh","innerHeight","top","bottom","offsetHeight","scrollHeight","scrollTop","topOut","bottomOut","scroll","isClickSelecting","keyCode","KeyCodes","isSearching","metaKey","selectedIndex","iterations","incrementAmount","round","totalOptions","focusedOption","searchResetDuration","includes","searchTimeoutId","search","resetSearch","html","rootElement","Renderer","injectSelect","nextHtml","nextRoot","diffCommand","syncSelectWithValue","classList","remove","parentElement","replaceChild","tempSelect","setAttribute","dispatchEvent","localDom","ref","elements","element","isInvalid","isFocused","isOpenAbove","isOpenBelow","isAtTop","isAtBottom","styleAttr","groups","groupState","hasLabel","optionState","isSelected","selectedOption","isPlaceholderShown","humanReadableValue","temp","createElement","innerHTML","firstElementChild","totalHeight","Dom","diffAttributeChanges","prev","next","totalAttributes","attributes","attributesMap","attributeChanges","attr1","attr2","sort","attr","change","ADD","REMOVE","EDIT","OUTER","domDiff","totalChildNodes","command","Text","textContent","INNER","newTextContent","HTMLElement","tagName","newNode","outerHTML","FULL","childNodes","childNode","childCommands","newInnerHtml","index","PatchCommand","patchAttributes","raf","requestAnimationFrame","patchAttribute","removeAttribute","domPatch","node","childCommand","lastValue","setInterval","getOptionIndexFromValue","handleMutation","lastOuterHtml","thisInstance","cache","getScrollTop","currentScrollTop","optionOffsetTop","optionHeight","bodyHeight","scrollOffset","remainder","scrollToMiddle","offset","offsetTop","injectedActions","onAction","stateProxy","StateManager","createStateProxy","getPropertyDescriptorsFromValue","proxy","getPrototypeOf","concat","localDescriptors","isAccessorProperty","readPropertyValue","updatePropertyValue","scrollStatus","AT_TOP","AT_BOTTOM","SCROLLED","makeScrollable","makeUnscrollable","collisionType","bodyStatus","OPEN_BELOW","OPEN_ABOVE","CLOSED","optionAtIndex","shouldScrollToView","useNative","isWithinGroup","required","child","children","getAttribute","HTMLOptionElement","StateMapper","mapGroup","lastGroup","mapOption","selected","HTMLOptGroupElement","j","groupChild","placeholder","isParentGroupDisabled","stateRaw","groupRaw","optionRaw","total","hasPlaceholder","Boolean","find","groupStartIndex","State","clearInterval","Timers","implementation","defineProperties","EasydropdownFacade"],"mappings":"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","file":"easydropdown.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"easydropdown\"] = factory();\n\telse\n\t\troot[\"easydropdown\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar merge_1 = require(\"./merge\");\nvar ArrayStrategy_1 = require(\"./Constants/ArrayStrategy\");\nexports.ArrayStrategy = ArrayStrategy_1.default;\nexports.default = merge_1.default;\n//# sourceMappingURL=index.js.map","import Config   from '../../Config/Config';\r\nimport Dom      from '../../Renderer/Dom';\r\nimport IActions from '../../State/Interfaces/IActions';\r\n\r\nimport detectBodyCollision from './detectBodyCollision';\r\nimport IDispatchOpen       from './Interfaces/IDispatchOpen';\r\n\r\nfunction dispatchOpen(\r\n    injectedDetectBodyCollision: typeof detectBodyCollision,\r\n    actions: IActions,\r\n    config: Config,\r\n    dom: Dom\r\n): void {\r\n    const collisionData = injectedDetectBodyCollision(dom, config);\r\n\r\n    const maxVisibleItems = collisionData.maxVisibleItemsOverride > -1 ?\r\n        collisionData.maxVisibleItemsOverride : config.behavior.maxVisibleItems;\r\n\r\n    const isScrollable = dom.item.length > maxVisibleItems;\r\n    const maxBodyHeight =  dom.sumItemsHeight(maxVisibleItems);\r\n\r\n    actions.open(maxBodyHeight, collisionData.type, isScrollable);\r\n}\r\n\r\nconst boundDispatchOpen: IDispatchOpen = dispatchOpen.bind(null, detectBodyCollision);\r\n\r\nexport {\r\n    boundDispatchOpen as default,\r\n    dispatchOpen\r\n};","function composeClassName(tokens: Array<string|[boolean, string]>): string {\n    return tokens\n        .reduce((classNames, token) => {\n            if (typeof token === 'string') classNames.push(token);\n            else {\n                const [predicate, className] = token;\n\n                if (predicate) classNames.push(className);\n            }\n\n            return classNames;\n        }, [])\n        .join(' ');\n}\n\nexport default composeClassName;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ArrayStrategy;\n(function (ArrayStrategy) {\n    ArrayStrategy[\"PUSH\"] = \"PUSH\";\n    ArrayStrategy[\"REPLACE\"] = \"REPLACE\";\n})(ArrayStrategy || (ArrayStrategy = {}));\nexports.default = ArrayStrategy;\n//# sourceMappingURL=ArrayStrategy.js.map","/**\n * Returns the closest parent of a given element matching the\n * provided selector, optionally including the element itself.\n */\n\nfunction closestParent(\n    el: HTMLElement,\n    selector: string,\n    includeSelf: boolean = false\n): HTMLElement {\n    let parent = el.parentNode as HTMLElement;\n\n    if (includeSelf && el.matches(selector)) {\n        return el;\n    }\n\n    while (parent && parent !== document.body) {\n        if (parent.matches && parent.matches(selector)) {\n            return parent;\n        } else if (parent.parentNode) {\n            parent = parent.parentNode as HTMLElement;\n        } else {\n            return null;\n        }\n    }\n\n    return null;\n}\n\nexport default closestParent;","export const OPTION = '[data-ref~=\"option\"]';","import IHandlerParams from '../../Events/Interfaces/IHandlerParams';\n\nconst killSelectReaction = (select: HTMLSelectElement, {actions, timers}: IHandlerParams): void => {\n    const keyingResetDuration = 100;\n\n    window.clearTimeout(timers.keyingTimeoutId);\n\n    actions.keying();\n\n    timers.keyingTimeoutId = window.setTimeout(() => actions.resetKeying(), keyingResetDuration);\n\n    select.disabled = true;\n\n    setTimeout(() => {\n        select.disabled = false;\n        select.focus();\n    });\n};\n\nexport default killSelectReaction;","import Easydropdown from './Easydropdown';\n\nconst cache: Easydropdown[] = [];\n\nexport default cache;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Config_1 = require(\"./Config\");\nvar ArrayStrategy_1 = require(\"./Constants/ArrayStrategy\");\nvar deriveCustomTypeInstance_1 = require(\"./deriveCustomTypeInstance\");\nvar FluentMerge_1 = require(\"./FluentMerge\");\nvar handleMergeError_1 = require(\"./handleMergeError\");\nvar Messages = require(\"./Messages\");\nfunction merge(target, source, options) {\n    if (options === void 0) { options = null; }\n    var isClientSide = typeof window !== 'undefined';\n    var sourceKeys = [];\n    var config;\n    if (options instanceof Config_1.default) {\n        config = options;\n    }\n    else {\n        config = new Config_1.default();\n    }\n    if (typeof options === 'boolean' && options === true) {\n        config.deep = true;\n    }\n    else if (options && config !== options && typeof options === 'object') {\n        merge(config, options);\n        if ([ArrayStrategy_1.default.PUSH, ArrayStrategy_1.default.REPLACE].indexOf(config.arrayStrategy) < 0) {\n            throw RangeError(Messages.INVALID_ARRAY_STRATEGY(config.arrayStrategy));\n        }\n    }\n    if (!target || typeof target !== 'object') {\n        throw new TypeError(Messages.TYPE_ERROR_TARGET(target));\n    }\n    if (!source || typeof source !== 'object') {\n        throw new TypeError(Messages.TYPE_ERROR_SOURCE(source));\n    }\n    if (Array.isArray(source)) {\n        if (config.arrayStrategy === ArrayStrategy_1.default.PUSH) {\n            // Merge arrays via push()\n            target.push.apply(target, source);\n            return target;\n        }\n        for (var i = 0; i < source.length; i++) {\n            sourceKeys.push(i.toString());\n        }\n    }\n    else {\n        sourceKeys = Object.getOwnPropertyNames(source);\n    }\n    for (var _i = 0, sourceKeys_1 = sourceKeys; _i < sourceKeys_1.length; _i++) {\n        var key = sourceKeys_1[_i];\n        var descriptor = Object.getOwnPropertyDescriptor(source, key);\n        // Skip read-only properties\n        if (typeof descriptor.get === 'function' && !descriptor.set && !config.includeReadOnly)\n            continue;\n        // Skip non-enumerable properties\n        if (!descriptor.enumerable && !config.includeNonEmurable)\n            continue;\n        if (!config.deep ||\n            typeof source[key] !== 'object' ||\n            (isClientSide && source[key] instanceof window.Node) ||\n            (isClientSide && source[key] === window.document.body) ||\n            (isClientSide && source[key] === window.document.documentElement) ||\n            source[key] === null ||\n            (Array.isArray(source[key]) && config.useReferenceIfArray) ||\n            (!target[key] && config.useReferenceIfTargetUnset)) {\n            // If:\n            // - Shallow merge\n            // - All non-object primatives\n            // - <html>, <body>, or DOM Nodes\n            // - Null pointers\n            // - Arrays, if `useReferenceIfArray` set\n            // - Target prop null or undefined and `useRererenceIfTargetUnset` set\n            try {\n                target[key] = source[key];\n            }\n            catch (err) {\n                handleMergeError_1.default(err, target, key, config.errorMessage);\n            }\n        }\n        else {\n            // Deep merge objects/arrays\n            if (!Object.prototype.hasOwnProperty.call(target, key) || target[key] === null) {\n                // If property does not exist on target, instantiate an empty\n                // object, custom type or array to merge into\n                try {\n                    target[key] = Array.isArray(source[key]) ?\n                        [] : config.preserveTypeIfTargetUnset ?\n                        deriveCustomTypeInstance_1.default(source[key]) : {};\n                }\n                catch (err) {\n                    handleMergeError_1.default(err, target, key, config.errorMessage);\n                }\n            }\n            // Recursively deep copy objects or arrays\n            merge(target[key], source[key], config);\n        }\n    }\n    return target;\n}\nvar createFluent = function (method) { return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return (_a = new FluentMerge_1.default())[method].apply(_a, args);\n    var _a;\n}; };\nObject\n    .keys(FluentMerge_1.default.prototype)\n    .forEach(function (method) { return merge[method] = createFluent(method); });\nexports.default = merge;\n//# sourceMappingURL=merge.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MERGE_ERROR = function (offender, suggestion) {\n    if (suggestion === void 0) { suggestion = ''; }\n    return \"Unknown property \\\"\" + offender + \"\\\"\" + (suggestion ? \". Did you mean \\\"\" + suggestion + \"\\\"?\" : '');\n};\nexports.TYPE_ERROR_TARGET = function (target) {\n    return \"[Helpful Merge] Target \\\"\" + target + \"\\\" must be a valid object\";\n};\nexports.TYPE_ERROR_SOURCE = function (source) {\n    return \"[Helpful Merge] Source \\\"\" + source + \"\\\" must be a valid object\";\n};\nexports.INVALID_ARRAY_STRATEGY = function (strategy) {\n    return \"[Helpful Merge] Invalid array strategy \\\"\" + strategy + \"\\\"\";\n};\n//# sourceMappingURL=Messages.js.map","import Behavior   from './Behavior';\nimport Callbacks  from './Callbacks';\nimport ClassNames from './ClassNames';\nimport IConfig    from './Interfaces/IConfig';\n\nclass Config implements IConfig {\n    public callbacks = new Callbacks();\n    public classNames = new ClassNames();\n    public behavior = new Behavior();\n\n    constructor() {\n        Object.seal(this);\n    }\n}\n\nexport default Config;","enum CollisionType {\n    NONE   = 'NONE',\n    TOP    = 'TOP',\n    BOTTOM = 'BOTTOM'\n}\n\nexport default CollisionType;","function getIsMobilePlatform(userAgent: string): boolean {\r\n    const isIos = /(ipad|iphone|ipod)/gi.test(userAgent) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\r\n    const isAndroid = /android/gi.test(userAgent);\r\n    const isOperaMini = /opera mini/gi.test(userAgent);\r\n    const isWindowsPhone = /windows phone/gi.test(userAgent);\r\n\r\n    if (isIos || isAndroid || isOperaMini || isWindowsPhone) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport default getIsMobilePlatform;","export const UP    = 38;\nexport const DOWN  = 40;\nexport const SPACE = 32;\nexport const ENTER = 13;\nexport const ESC   = 27;","import IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleWindowClick(_, {state, actions, dom}: IHandlerParams): void {\n    if (!state.isOpen) return;\n\n    actions.close();\n\n    dom.select.blur();\n}\n\nexport default handleWindowClick;","enum AttributeChangeType {\n    ADD = 'ADD',\n    EDIT = 'EDIT',\n    REMOVE = 'REMOVE'\n}\n\nexport default AttributeChangeType;","export enum DomChangeType {\n    NONE    = 'NONE',\n    FULL    = 'FULL',\n    REPLACE = 'REPLACE',\n    INNER   = 'INNER',\n    OUTER   = 'OUTER'\n}\n\nexport default DomChangeType;","enum BodyStatus {\n    CLOSED     = 'CLOSED',\n    OPEN_ABOVE = 'OPEN_ABOVE',\n    OPEN_BELOW = 'OPEN_BELOW'\n}\n\nexport default BodyStatus;","enum ScrollStatus {\n    AT_TOP    = 'AT_TOP',\n    SCROLLED  = 'SCROLLED',\n    AT_BOTTOM = 'AT_BOTTOM'\n}\n\nexport default ScrollStatus;","import Option from './Option';\n\nclass Group {\n    public label:      string   = '';\n    public options:    Option[] = [];\n    public isDisabled: boolean  = false;\n\n    public get totalOptions(): number {\n        return this.options.length;\n    }\n\n    public get hasLabel(): boolean {\n        return this.label !== '';\n    }\n}\n\nexport default Group;","class Option {\n    public label:      string  = '';\n    public value:      string  = '';\n    public isDisabled: boolean = false;\n}\n\nexport default Option;","import 'custom-event-polyfill';\n\nimport './Shared/Polyfills/Element.matches';\n\nimport factory from './Easydropdown/factory';\n\nmodule.exports = factory;","// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\n(function() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', { cancelable: true });\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function(event, params) {\n      var evt, origPrevent;\n      params = params || {\n        bubbles: false,\n        cancelable: false,\n        detail: undefined\n      };\n\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      origPrevent = evt.preventDefault;\n      evt.preventDefault = function() {\n        origPrevent.call(this);\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n","if (!Element.prototype.matches) {\n    Element.prototype.matches = (Element.prototype as any).msMatchesSelector;\n}","import IConfig from '../Config/Interfaces/IConfig';\n\nimport cache              from './cache';\nimport Easydropdown       from './Easydropdown';\nimport EasydropdownFacade from './EasydropdownFacade';\nimport IFactory           from './Interfaces/IFactory';\n\nfunction factory(\n    selectElementOrSelector: (HTMLSelectElement|string),\n    options: IConfig = {}\n): EasydropdownFacade {\n    let selectElement = selectElementOrSelector;\n\n    if (typeof selectElementOrSelector === 'string') {\n        selectElement = document.querySelector(selectElementOrSelector) as HTMLSelectElement;\n    }\n\n    if (!(selectElement instanceof HTMLSelectElement)) {\n        throw new TypeError('[EasyDropDown] Invalid select element provided');\n    }\n\n    if (selectElement.multiple) {\n        throw new Error(\n            '[EasyDropDown] EasyDropDown does not support the `multiple`' +\n            ' attribute on select elements.'\n        );\n    }\n\n    for (const cachedInstance of cache) {\n        if (cachedInstance.selectElement === selectElement) {\n            return new EasydropdownFacade(cachedInstance);\n        }\n    }\n\n    const instance = new Easydropdown(selectElement, options);\n\n    // @ts-ignore\n\n    cache.push(instance);\n\n    return new EasydropdownFacade(instance);\n}\n\nfunction decorateFactory(factoryFn: any): IFactory {\n    factoryFn.all = (options: IConfig = {}) => {\n        const selects = document.querySelectorAll('select');\n\n        Array.prototype.forEach.call(selects, select => {\n            const instance = factory(select, options);\n\n            return instance;\n        });\n    };\n\n    factoryFn.destroy = () => {\n        const cacheCopy = cache.slice();\n\n        cacheCopy.forEach(instance => instance.destroy());\n    };\n\n    return factoryFn;\n}\n\nconst decoratedFactory = decorateFactory(factory);\n\nexport default decoratedFactory;","import merge from 'helpful-merge';\r\n\r\nimport Config                 from '../Config/Config';\r\nimport ICallback              from '../Config/Interfaces/ICallback';\r\nimport IConfig                from '../Config/Interfaces/IConfig';\r\nimport bindEvents             from '../Events/bindEvents';\r\nimport EventBinding           from '../Events/EventBinding';\r\nimport Dom                    from '../Renderer/Dom';\r\nimport Renderer               from '../Renderer/Renderer';\r\nimport dispatchOpen           from '../Shared/Util/dispatchOpen';\r\nimport pollForSelectChange    from '../Shared/Util/pollForSelectChange';\r\nimport pollForSelectMutation  from '../Shared/Util/pollForSelectMutation';\r\nimport closeOthers            from '../State/InjectedActions/closeOthers';\r\nimport scrollToView           from '../State/InjectedActions/scrollToView';\r\nimport IActions               from '../State/Interfaces/IActions';\r\nimport State                  from '../State/State';\r\nimport StateManager           from '../State/StateManager';\r\nimport StateMapper            from '../State/StateMapper';\r\n\r\nimport cache  from './cache';\r\nimport Timers from './Timers';\r\n\r\nclass Easydropdown {\r\n    public actions: IActions;\r\n\r\n    private config: Config;\r\n    private state: State;\r\n    private dom: Dom;\r\n    private eventBindings: EventBinding[];\r\n    private renderer: Renderer;\r\n    private timers: Timers;\r\n\r\n    constructor(selectElement: HTMLSelectElement, options: IConfig) {\r\n        this.config = merge(new Config(), options, true);\r\n        this.state = StateMapper.mapFromSelect(selectElement, this.config);\r\n        this.renderer = new Renderer(this.config.classNames);\r\n        this.dom = this.renderer.render(this.state, selectElement);\r\n        this.timers = new Timers();\r\n\r\n        this.actions = StateManager.proxyActions(this.state, {\r\n            closeOthers: closeOthers.bind(null, this, cache),\r\n            scrollToView: scrollToView.bind(null, this.dom, this.timers)\r\n        }, this.handleStateUpdate.bind(this));\r\n\r\n        this.eventBindings = bindEvents({\r\n            actions: this.actions,\r\n            config: this.config,\r\n            dom: this.dom,\r\n            state: this.state,\r\n            timers: this.timers\r\n        });\r\n\r\n        this.timers.pollChangeIntervalId = pollForSelectChange(this.dom.select, this.state, this.actions, this.config);\r\n\r\n        if (this.config.behavior.liveUpdates) {\r\n            this.timers.pollMutationIntervalId = pollForSelectMutation(\r\n                this.dom.select,\r\n                this.state,\r\n                this.refresh.bind(this)\r\n            );\r\n        }\r\n    }\r\n\r\n    public get selectElement(): HTMLSelectElement {\r\n        return this.dom.select;\r\n    }\r\n\r\n    public get value(): string {\r\n        return this.state.value;\r\n    }\r\n\r\n    public set value(nextValue: string) {\r\n        if (typeof nextValue !== 'string') {\r\n            throw new TypeError('[EasyDropDown] Provided value not a valid string');\r\n        }\r\n\r\n        this.dom.select.value = nextValue;\r\n    }\r\n\r\n    public open(): void {\r\n        dispatchOpen(this.actions, this.config, this.dom);\r\n    }\r\n\r\n    public close(): void {\r\n        this.actions.close();\r\n    }\r\n\r\n    public refresh(): void {\r\n        this.state = merge(\r\n            this.state,\r\n            StateMapper.mapFromSelect(this.dom.select, this.config)\r\n        );\r\n\r\n        this.renderer.update(this.state);\r\n\r\n        this.dom.group.length = this.dom.option.length = this.dom.item.length = 0;\r\n\r\n        Renderer.queryDomRefs(this.dom, ['group', 'option', 'item']);\r\n    }\r\n\r\n    public validate(): boolean {\r\n        if (!this.state.isRequired || this.state.hasValue) {\r\n            return true;\r\n        }\r\n\r\n        this.actions.invalidate();\r\n\r\n        return false;\r\n    }\r\n\r\n    public destroy(): void {\r\n        this.timers.clear();\r\n        this.eventBindings.forEach(binding => binding.unbind());\r\n        this.renderer.destroy();\r\n\r\n        const cacheIndex = cache.indexOf(this);\r\n\r\n        cache.splice(cacheIndex, 1);\r\n    }\r\n\r\n    private handleStateUpdate(state: State, key: keyof State): void {\r\n        const {callbacks} = this.config;\r\n\r\n        this.renderer.update(state, key);\r\n\r\n        switch (key) {\r\n            case 'bodyStatus': {\r\n                let cb: ICallback;\r\n\r\n                if (state.isOpen) {\r\n                    cb = callbacks.onOpen;\r\n                } else {\r\n                    cb = callbacks.onClose;\r\n                }\r\n\r\n                if (typeof cb === 'function') cb();\r\n\r\n                break;\r\n            }\r\n            case 'selectedIndex': {\r\n                const cb = callbacks.onSelect;\r\n\r\n                if (typeof cb === 'function') cb(state.value);\r\n\r\n                break;\r\n            }\r\n            case 'isClickSelecting': {\r\n                const cb = callbacks.onOptionClick;\r\n\r\n                if (state[key] === false) {\r\n                    const nextValue = state.getOptionFromIndex(state.focusedIndex).value;\r\n\r\n                    if (typeof cb === 'function') cb(nextValue);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default Easydropdown;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ArrayStrategy_1 = require(\"./Constants/ArrayStrategy\");\nvar Messages = require(\"./Messages\");\nvar Config = /** @class */ (function () {\n    function Config() {\n        this.deep = false;\n        this.useReferenceIfTargetUnset = false;\n        this.useReferenceIfArray = false;\n        this.preserveTypeIfTargetUnset = false;\n        this.includeReadOnly = false;\n        this.includeNonEmurable = false;\n        this.arrayStrategy = ArrayStrategy_1.default.REPLACE;\n        this.errorMessage = Messages.MERGE_ERROR;\n        Object.seal(this);\n    }\n    return Config;\n}());\nexports.default = Config;\n//# sourceMappingURL=Config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction deriveCustoTypeInstance(_a) {\n    var constructor = _a.constructor;\n    if (typeof constructor === 'function' && constructor !== Object) {\n        return new constructor();\n    }\n    return {};\n}\nexports.default = deriveCustoTypeInstance;\n//# sourceMappingURL=deriveCustomTypeInstance.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar merge_1 = require(\"./merge\");\nvar FluentMerge = /** @class */ (function () {\n    function FluentMerge() {\n        this.target = null;\n        this.sources = [];\n        this.config = {};\n    }\n    /**\n     * Supplies a fluent merge instance with a target object to merge into and return.\n     */\n    FluentMerge.prototype.to = function (target) {\n        this.target = target;\n        return this;\n    };\n    /**\n     * Supplies a fluent merge instance with one or more source objects to merge from, in right to left order.\n     */\n    FluentMerge.prototype.from = function () {\n        var sources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            sources[_i] = arguments[_i];\n        }\n        this.sources = sources;\n        return this;\n    };\n    /**\n     * Supplies a fluent merge instance with a configuration object of one or more options.\n     */\n    FluentMerge.prototype.with = function (options) {\n        this.config = options;\n        return this;\n    };\n    /**\n     * Executes a fluent merge instance, merging all provided sources into the\n     * target, as per any provided configuration, and returning a reference to\n     * the target.\n     */\n    FluentMerge.prototype.exec = function () {\n        var _this = this;\n        return this.sources.reduce(function (target, source) { return merge_1.default(target, source, _this.config); }, this.target || {});\n    };\n    return FluentMerge;\n}());\nexports.default = FluentMerge;\n//# sourceMappingURL=FluentMerge.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction handleMergeError(err, target, offendingKey, message) {\n    // Rethrow if any of the following:\n    // - offending key already exists on target\n    // - object not sealed\n    // - is extensible\n    // - error not a TypeError\n    if (Object.hasOwnProperty.call(target, offendingKey) ||\n        !Object.isSealed(target) ||\n        Object.isExtensible(target) ||\n        !(err instanceof TypeError))\n        throw err;\n    var reducer = reduceBestMatch.bind(null, offendingKey, offendingKey.toLowerCase());\n    var primer = { key: '', delta: Infinity, totalMatching: 0 };\n    // Iterate through keys in target, for each key, compare with\n    // the offending key. Greatest number of matching characters wins.\n    var bestMatch = Object.keys(target).reduce(reducer, primer);\n    var suggestion = bestMatch && bestMatch.totalMatching > 1 ? bestMatch.key : '';\n    throw new TypeError(message(offendingKey, suggestion));\n}\n/**\n * Compares current key with current best match.\n */\nfunction reduceBestMatch(offendingKeyLower, offendingKey, currBestMatch, currKey) {\n    var totalMatching = getTotalMatching(currKey.toLowerCase(), offendingKeyLower);\n    var delta = Math.abs(currKey.length - offendingKey.length);\n    if (totalMatching > currBestMatch.totalMatching ||\n        (totalMatching === currBestMatch.totalMatching && delta < currBestMatch.delta)) {\n        // If a greater number of matching characters, or the same\n        // number, but a lesser delta, usurp the best match\n        return { key: currKey, delta: delta, totalMatching: totalMatching };\n    }\n    return currBestMatch;\n}\n/**\n * Returns the number of common, consecutive characters\n * between two strings.\n */\nfunction getTotalMatching(possibleKey, offendingKey) {\n    var longer = possibleKey.length > offendingKey.length ? possibleKey : offendingKey;\n    var shorter = longer === possibleKey ? offendingKey : possibleKey;\n    var leftPointer = 0;\n    var leftInnerPointer = 0;\n    var leftTotalMatching = 0;\n    var lastCommonIndex = -1;\n    for (; leftPointer < longer.length; leftPointer++) {\n        while (leftTotalMatching === 0 &&\n            longer[leftPointer] !== shorter[leftInnerPointer] &&\n            leftInnerPointer < shorter.length) {\n            // No match at present, move innerPointer through all possible\n            // indices until a match is found\n            leftInnerPointer++;\n        }\n        if (longer[leftPointer] === shorter[leftInnerPointer]) {\n            // Match found\n            if (lastCommonIndex !== leftPointer - 1) {\n                // If beginning of a new match, reset total common\n                leftTotalMatching = 0;\n            }\n            lastCommonIndex = leftPointer;\n            leftTotalMatching++;\n            leftInnerPointer++;\n            // Whole word matched, end\n            if (leftTotalMatching === shorter.length)\n                break;\n        }\n        else if (leftTotalMatching > 1) {\n            // No match, but at least two common characters found, end\n            break;\n        }\n        else {\n            // No match at this index, reset\n            leftTotalMatching = leftInnerPointer = 0;\n        }\n    }\n    lastCommonIndex = -1;\n    var rightPointer = 0;\n    var rightInnerPointer = 0;\n    var rightTotalMatching = 0;\n    var longerLastIndex = longer.length - 1;\n    var shorterLastIndex = shorter.length - 1;\n    // As above, but from right to left\n    for (; rightPointer < longer.length - leftPointer; rightPointer++) {\n        while (rightTotalMatching === 0 &&\n            longer[longerLastIndex - rightPointer] !== shorter[shorterLastIndex - rightInnerPointer] &&\n            rightInnerPointer < shorter.length) {\n            rightInnerPointer++;\n        }\n        if (longer[longerLastIndex - rightPointer] === shorter[shorterLastIndex - rightInnerPointer]) {\n            if (lastCommonIndex !== rightPointer - 1)\n                rightTotalMatching = 0;\n            lastCommonIndex = rightPointer;\n            rightTotalMatching++;\n            rightInnerPointer++;\n        }\n        else if (rightTotalMatching > 1) {\n            break;\n        }\n        else {\n            rightTotalMatching = rightInnerPointer = 0;\n        }\n    }\n    return Math.min(shorter.length, leftTotalMatching + rightTotalMatching);\n}\nexports.getTotalMatching = getTotalMatching;\nexports.default = handleMergeError;\n//# sourceMappingURL=handleMergeError.js.map","import IBehavior from './Interfaces/IBehavior';\n\nclass Behavior implements IBehavior {\n    public showPlaceholderWhenOpen: boolean = false;\n    public openOnFocus:             boolean = false;\n    public closeOnSelect:           boolean = true;\n    public useNativeUiOnMobile:     boolean = true;\n    public loop:                    boolean = false;\n    public clampMaxVisibleItems:    boolean = true;\n    public liveUpdates:             boolean = false;\n    public maxVisibleItems:         number  = 15;\n\n    constructor() {\n        Object.seal(this);\n    }\n}\n\nexport default Behavior;","import ICallback from './Interfaces/ICallback';\r\nimport ISelectCallback from './Interfaces/ISelectCallback';\r\n\r\nclass Callbacks {\r\n    public onOpen:        ICallback = null;\r\n    public onClose:       ICallback = null;\r\n    public onSelect:      ISelectCallback = null;\r\n    public onOptionClick: ISelectCallback = null;\r\n\r\n    constructor() {\r\n        Object.seal(this);\r\n    }\r\n}\r\n\r\nexport default Callbacks;","import IClassNames from './Interfaces/IClassNames';\n\nclass ClassNames implements IClassNames {\n    public root:           string = 'edd-root';\n    public rootOpen:       string = 'edd-root-open';\n    public rootOpenAbove:  string = 'edd-root-open-above';\n    public rootOpenBelow:  string = 'edd-root-open-below';\n    public rootDisabled:   string = 'edd-root-disabled';\n    public rootInvalid:    string = 'edd-root-invalid';\n    public rootFocused:    string = 'edd-root-focused';\n    public rootHasValue:   string = 'edd-root-has-value';\n    public rootNative:     string = 'edd-root-native';\n    public gradientTop:    string = 'edd-gradient-top';\n    public gradientBottom: string = 'edd-gradient-bottom';\n    public head:           string = 'edd-head';\n    public value:          string = 'edd-value';\n    public arrow:          string = 'edd-arrow';\n    public select:         string = 'edd-select';\n    public body:           string = 'edd-body';\n    public bodyScrollable: string = 'edd-body-scrollable';\n    public bodyAtTop:      string = 'edd-body-at-top';\n    public bodyAtBottom:   string = 'edd-body-at-bottom';\n    public itemsList:      string = 'edd-items-list';\n    public group:          string = 'edd-group';\n    public groupDisabled:  string = 'edd-group-disabled';\n    public groupHasLabel:  string = 'edd-group-has-label';\n    public groupLabel:     string = 'edd-group-label';\n    public option:         string = 'edd-option';\n    public optionDisabled: string = 'edd-option-disabled';\n    public optionFocused:  string = 'edd-option-focused';\n    public optionSelected: string = 'edd-option-selected';\n\n    constructor() {\n        Object.seal(this);\n    }\n}\n\nexport default ClassNames;","import throttle from '../Shared/Util/throttle';\n\nimport EventBinding   from './EventBinding';\nimport getEventsList  from './getEventsList';\nimport IEventBinding  from './Interfaces/IEventBinding';\nimport IHandlerParams from './Interfaces/IHandlerParams';\n\nfunction bindEvent(handlerParams: IHandlerParams, eventBindingRaw: IEventBinding): EventBinding {\n    const eventBinding = new EventBinding(eventBindingRaw);\n\n    if (!eventBinding.target) return eventBinding;\n\n    const boundHandler = (e) => eventBinding.handler(e, handlerParams);\n\n    if (eventBinding.throttle > 0) {\n        eventBinding.boundHandler = throttle(boundHandler, eventBinding.throttle);\n    } else {\n        eventBinding.boundHandler = boundHandler;\n    }\n\n    eventBinding.target.addEventListener(eventBinding.type, eventBinding.boundHandler);\n\n    return eventBinding;\n}\n\nfunction bindEvents(handlerParams: IHandlerParams): EventBinding[] {\n    return getEventsList(handlerParams.dom).map(bindEvent.bind(null, handlerParams));\n}\n\nexport {\n    bindEvents as default,\n    bindEvent\n};","function throttle(\n    handler: (...args: any[]) => void,\n    delay: number\n): (...args: any[]) => void {\n    let timerId = null;\n    let last: number = -Infinity;\n\n    return function(...args): void {\n        const now = Date.now();\n\n        const later = () => {\n            timerId = null;\n\n            handler.apply(this, args);\n\n            last = now;\n        };\n\n        const difference = now - last;\n\n        if (difference >= delay) {\n            later();\n        } else {\n            clearTimeout(timerId);\n\n            timerId = setTimeout(later, delay - difference);\n        }\n    };\n}\n\nexport default throttle;","import merge from 'helpful-merge';\n\nimport IEventBinding from './Interfaces/IEventBinding';\nimport IEventHandler from './Interfaces/IEventHandler';\n\nclass EventBinding implements IEventBinding {\n    public type:         string        = '';\n    public target:       HTMLElement   = null;\n    public debounce:     number        = 0;\n    public throttle:     number        = 0;\n    public handler:      IEventHandler = null;\n    public boundHandler: EventListener = null;\n    public passive:      boolean       = false;\n\n    constructor(eventBindingRaw: IEventBinding|string) {\n        merge(this, eventBindingRaw);\n\n        Object.seal(this);\n    }\n\n    public unbind(): void {\n        if (!this.target) return;\n\n        this.target.removeEventListener(this.type, this.boundHandler);\n    }\n}\n\nexport default EventBinding;","import Dom from '../Renderer/Dom';\n\nimport handleBodyClick       from './Handlers/handleBodyClick';\nimport handleBodyMousedown   from './Handlers/handleBodyMousedown';\nimport handleBodyMouseover   from './Handlers/handleBodyMouseover';\nimport handleHeadClick       from './Handlers/handleHeadClick';\nimport handleItemsListScroll from './Handlers/handleItemsListScroll';\nimport handleSelectBlur      from './Handlers/handleSelectBlur';\nimport handleSelectFocus     from './Handlers/handleSelectFocus';\nimport handleSelectInvalid   from './Handlers/handleSelectInvalid';\nimport handleSelectKeydown   from './Handlers/handleSelectKeydown';\nimport handleSelectKeypress  from './Handlers/handleSelectKeypress';\nimport handleWindowClick     from './Handlers/handleWindowClick';\nimport handleWindowResize    from './Handlers/handleWindowClick';\nimport IEventBinding         from './Interfaces/IEventBinding';\n\nconst getEventsList = (dom: Dom): IEventBinding[] => [\n    {\n        target: dom.head,\n        type: 'click',\n        handler: handleHeadClick\n    },\n    {\n        target: dom.body,\n        type: 'mousedown',\n        handler: handleBodyMousedown\n    },\n    {\n        target: dom.body,\n        type: 'click',\n        handler: handleBodyClick\n    },\n    {\n        target: dom.body,\n        type: 'mouseover',\n        handler: handleBodyMouseover\n    },\n    {\n        target: dom.itemsList,\n        type: 'scroll',\n        handler: handleItemsListScroll\n    },\n    {\n        target: dom.select,\n        type: 'keydown',\n        handler: handleSelectKeydown\n    },\n    {\n        target: dom.select,\n        type: 'invalid',\n        handler: handleSelectInvalid\n    },\n    {\n        target: dom.select,\n        type: 'keypress',\n        handler: handleSelectKeypress\n    },\n    {\n        target: dom.select,\n        type: 'focus',\n        handler: handleSelectFocus\n    },\n    {\n        target: dom.select,\n        type: 'blur',\n        handler: handleSelectBlur\n    },\n    {\n        target: document.documentElement,\n        type: 'click',\n        handler: handleWindowClick\n    },\n    {\n        target: window,\n        type: 'resize',\n        handler: handleWindowResize,\n        throttle: 100\n    }\n];\n\nexport default getEventsList;","import closestParent  from '../../Shared/Util/closestParent';\r\nimport * as Selectors from '../Constants/Selectors';\r\nimport IHandlerParams from '../Interfaces/IHandlerParams';\r\n\r\nfunction handleBodyClick(e: Event, {state, actions, dom, config}: IHandlerParams): void {\r\n    e.stopPropagation();\r\n\r\n    const option = closestParent(e.target as HTMLElement, Selectors.OPTION, true);\r\n\r\n    if (!option) return;\r\n\r\n    const optionIndex = Array.prototype.indexOf.call(dom.option, option);\r\n\r\n    actions.selectOption(optionIndex, config.behavior.closeOnSelect);\r\n}\r\n\r\nexport default handleBodyClick;","import closestParent  from '../../Shared/Util/closestParent';\r\nimport * as Selectors from '../Constants/Selectors';\r\nimport IHandlerParams from '../Interfaces/IHandlerParams';\r\n\r\nfunction handleBodyMousedown(e: Event, {actions}: IHandlerParams): void {\r\n    e.stopPropagation();\r\n\r\n    const option = closestParent(e.target as HTMLElement, Selectors.OPTION, true);\r\n\r\n    if (!option) return;\r\n\r\n    actions.startClickSelecting();\r\n}\r\n\r\nexport default handleBodyMousedown;","import closestParent  from '../../Shared/Util/closestParent';\nimport * as Selectors from '../Constants/Selectors';\nimport IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleBodyMouseover(e: Event, {state, actions, dom}: IHandlerParams): void {\n    e.stopPropagation();\n\n    const option = closestParent(e.target as HTMLElement, Selectors.OPTION, true);\n\n    if (!option || state.isKeying) return;\n\n    const optionIndex = Array.prototype.indexOf.call(dom.option, option);\n\n    actions.focusOption(optionIndex);\n}\n\nexport default handleBodyMouseover;","import dispatchOpen from '../../Shared/Util/dispatchOpen';\r\nimport getIsMobilePlatform from '../../Shared/Util/getIsMobilePlatform';\r\nimport IHandlerParams from '../Interfaces/IHandlerParams';\r\n\r\nfunction handleHeadClick(\r\n    injectedGetIsMobilePlatform: (ua: string) => boolean,\r\n    e: MouseEvent,\r\n    {state, actions, dom, config}: IHandlerParams\r\n): void {\r\n    if (state.isUseNativeMode) return;\r\n\r\n    const isMobilePlatform = injectedGetIsMobilePlatform(window.navigator.userAgent);\r\n\r\n    e.stopPropagation();\r\n\r\n    if (state.isClosed) {\r\n        dispatchOpen(actions, config, dom);\r\n\r\n        if (isMobilePlatform) {\r\n            actions.focus();\r\n        } else {\r\n            dom.select.focus();\r\n        }\r\n    } else {\r\n        actions.close();\r\n    }\r\n}\r\n\r\nconst boundHandleHeadClick = handleHeadClick.bind(null, getIsMobilePlatform);\r\n\r\nexport {\r\n    boundHandleHeadClick as default,\r\n    handleHeadClick\r\n};","import Config from '../../Config/Config';\nimport Dom    from '../../Renderer/Dom';\n\nimport CollisionType  from './Constants/CollisionType';\nimport ICollisionData from './Interfaces/ICollisionData';\n\nconst CLEARSPACE = 10;\n\nfunction mapCollisionData(deltaTop, deltaBottom, maxHeight, itemHeight): ICollisionData {\n    let type = CollisionType.NONE;\n    let maxVisibleItemsOverride = -1;\n\n    if (deltaTop <= maxHeight && deltaBottom <= maxHeight) {\n        const largestDelta = Math.max(deltaBottom, deltaTop);\n\n        type = deltaTop < deltaBottom ? CollisionType.TOP : CollisionType.BOTTOM;\n        maxVisibleItemsOverride = Math.floor(largestDelta / itemHeight);\n    } else if (deltaTop <= maxHeight) {\n        type = CollisionType.TOP;\n    } else if (deltaBottom <= maxHeight) {\n        type = CollisionType.BOTTOM;\n    }\n\n    return {type, maxVisibleItemsOverride};\n}\n\nfunction detectBodyCollision(dom: Dom, config: Config): ICollisionData {\n    const bbHead = dom.head.getBoundingClientRect();\n    const wh = window.innerHeight;\n    const deltaTop = bbHead.top - CLEARSPACE;\n    const deltaBottom = wh - bbHead.bottom - CLEARSPACE;\n\n    if (dom.option.length < 1) return {\n        type: CollisionType.NONE,\n        maxVisibleItemsOverride: -1\n    };\n\n    const maxVisibleItems = Math.min(config.behavior.maxVisibleItems, dom.item.length);\n    const maxHeight = dom.sumItemsHeight(maxVisibleItems);\n    const itemHeight = dom.sumItemsHeight(1);\n\n    return mapCollisionData(deltaTop, deltaBottom, maxHeight, itemHeight);\n}\n\nexport {\n    detectBodyCollision as default,\n    mapCollisionData\n};","import IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleItemsListScroll(e: Event, {state, actions, dom}: IHandlerParams): void {\n    e.stopPropagation();\n\n    const {offsetHeight, scrollHeight, scrollTop} = dom.itemsList;\n\n    if (scrollTop === 0) {\n        actions.topOut();\n    } else if (scrollTop === scrollHeight - offsetHeight) {\n        actions.bottomOut();\n    } else {\n        actions.scroll();\n    }\n}\n\nexport default handleItemsListScroll;","import IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleSelectBlur(e: Event, {actions, state, config}: IHandlerParams): void {\n    if (state.isKeying) return;\n\n    actions.blur();\n\n    if (config.behavior.openOnFocus && !state.isClickSelecting) actions.close();\n}\n\nexport default handleSelectBlur;","import dispatchOpen   from '../../Shared/Util/dispatchOpen';\nimport IHandlerParams from '../Interfaces/IHandlerParams';\n\nfunction handleSelectFocus(e: Event, {actions, config, dom, state}: IHandlerParams): void {\n    actions.focus();\n\n    if (config.behavior.openOnFocus && !state.isUseNativeMode) {\n        dispatchOpen(actions, config, dom);\n    }\n}\n\nexport default handleSelectFocus;","import IHandlerParams      from '../Interfaces/IHandlerParams';\n\nfunction handleSelectInvalid(e: Event, {actions, config, dom}: IHandlerParams): void {\n    actions.invalidate();\n}\n\nexport default handleSelectInvalid;","import dispatchOpen       from '../../Shared/Util/dispatchOpen';\nimport killSelectReaction from '../../Shared/Util/killSelectReaction';\nimport * as KeyCodes      from '../Constants/KeyCodes';\nimport IHandlerParams     from '../Interfaces/IHandlerParams';\n\nimport handleSelectKeydownDown from './handleSelectKeydownDown';\nimport handleSelectKeydownUp   from './handleSelectKeydownUp';\n\nfunction handleSelectKeydown(e: KeyboardEvent, handlerParams: IHandlerParams): void {\n    const {keyCode, target} = e;\n    const {state, actions, dom, config} = handlerParams;\n\n    if (state.isUseNativeMode || state.isDisabled) return;\n\n    switch (keyCode) {\n        case KeyCodes.DOWN:\n            handleSelectKeydownDown(e, handlerParams);\n\n            break;\n        case KeyCodes.UP:\n            handleSelectKeydownUp(e, handlerParams);\n\n            break;\n        case KeyCodes.SPACE:\n            if (state.isSearching) {\n                e.stopPropagation();\n\n                return;\n            }\n\n        case KeyCodes.ENTER:\n            e.stopPropagation();\n            e.preventDefault();\n\n            killSelectReaction(target as HTMLSelectElement, handlerParams);\n\n            if (state.isOpen) {\n                actions.selectOption(state.focusedIndex, config.behavior.closeOnSelect);\n            } else {\n                dispatchOpen(actions, config, dom);\n            }\n\n            break;\n        case KeyCodes.ESC:\n            actions.close();\n\n            break;\n    }\n}\n\nexport default handleSelectKeydown;","import dispatchOpen       from '../../Shared/Util/dispatchOpen';\nimport killSelectReaction from '../../Shared/Util/killSelectReaction';\nimport IHandlerParams     from '../Interfaces/IHandlerParams';\n\nfunction handleSelectKeydownDown(\n    e: KeyboardEvent,\n    handlerParams: IHandlerParams\n): void {\n    const {metaKey, target} = e;\n    const {state, dom, actions, config} = handlerParams;\n\n    let focusedIndex: number = state.focusedIndex > -1 ?\n    state.focusedIndex : state.selectedIndex;\n\n    let iterations: number = 0;\n    let incrementAmount: number = 1;\n\n    e.preventDefault();\n\n    killSelectReaction(target as HTMLSelectElement, handlerParams);\n\n    if (metaKey) {\n        incrementAmount = Math.round(\n            Math.max(state.totalOptions / 2, config.behavior.maxVisibleItems)\n        );\n    }\n\n    do {\n        focusedIndex += incrementAmount;\n\n        incrementAmount = 1;\n\n        if (focusedIndex >= state.totalOptions) {\n            focusedIndex = config.behavior.loop ? 0 : state.totalOptions - 1;\n        }\n\n        actions.focusOption(focusedIndex, true);\n\n        iterations++;\n    }\n    while (\n        state.focusedOption &&\n        state.focusedOption.isDisabled &&\n        iterations <= state.totalOptions\n    );\n\n    if (state.isClosed) {\n        dispatchOpen(actions, config, dom);\n\n        return;\n    }\n}\n\nexport default handleSelectKeydownDown;","import dispatchOpen       from '../../Shared/Util/dispatchOpen';\nimport killSelectReaction from '../../Shared/Util/killSelectReaction';\nimport IHandlerParams     from '../Interfaces/IHandlerParams';\n\nfunction handleSelectKeydownUp(\n    e: KeyboardEvent,\n    handlerParams: IHandlerParams\n): void {\n    const {metaKey, target} = e;\n    const {state, config, dom, actions} = handlerParams;\n\n    let focusedIndex = state.focusedIndex > -1 ?\n        state.focusedIndex : state.selectedIndex;\n\n    let iterations = 0;\n    let incrementAmount: number = 1;\n\n    e.preventDefault();\n\n    killSelectReaction(target as HTMLSelectElement, handlerParams);\n\n    if (metaKey) {\n        incrementAmount = Math.round(\n            Math.max(state.totalOptions / 2, config.behavior.maxVisibleItems)\n        );\n    }\n\n    do {\n        focusedIndex -= incrementAmount;\n\n        incrementAmount = 1;\n\n        if (focusedIndex < 0) {\n            focusedIndex = config.behavior.loop ? state.totalOptions - 1 : 0;\n        }\n\n        actions.focusOption(focusedIndex, true);\n\n        iterations++;\n    }\n    while (\n        state.focusedOption &&\n        state.focusedOption.isDisabled &&\n        iterations < state.totalOptions\n    );\n\n    if (state.isClosed) {\n        dispatchOpen(actions, config, dom);\n    }\n}\n\nexport default handleSelectKeydownUp;","import * as KeyCodes  from '../Constants/KeyCodes';\nimport IHandlerParams from '../Interfaces/IHandlerParams';\n\nconst SEARCH_RESET_DURATION = 1200;\n\nfunction handleSelectKeypress(\n    {keyCode}: KeyboardEvent,\n    {actions, timers, state}: IHandlerParams,\n    searchResetDuration = SEARCH_RESET_DURATION\n): void {\n    if (state.isUseNativeMode || [KeyCodes.UP, KeyCodes.DOWN].includes(keyCode)) return;\n\n    window.clearTimeout(timers.searchTimeoutId);\n\n    actions.search();\n\n    timers.searchTimeoutId = window.setTimeout(() => actions.resetSearch(), searchResetDuration);\n}\n\nexport default handleSelectKeypress;","import root                     from '../Components/root';\nimport ClassNames               from '../Config/ClassNames';\nimport createDomElementFromHtml from '../Shared/Util/createDomElementFromHtml';\nimport State                    from '../State/State';\n\nimport Dom      from './Dom';\nimport domDiff  from './domDiff';\nimport domPatch from './domPatch';\n\nclass Renderer {\n    public classNames: ClassNames;\n    public dom: Dom;\n\n    constructor(classNames: ClassNames) {\n        this.dom = new Dom();\n        this.classNames = classNames;\n    }\n\n    public render(state: State, selectElement: HTMLSelectElement): Dom {\n        const html = root(state, this.classNames);\n        const rootElement = createDomElementFromHtml(html) as HTMLDivElement;\n\n        this.dom = new Dom();\n        this.dom.root = rootElement;\n\n        this.dom.option.length = this.dom.group.length = 0;\n\n        Renderer.queryDomRefs(this.dom);\n\n        this.injectSelect(selectElement);\n\n        return this.dom;\n    }\n\n    public update(state: State, key?: keyof State): void {\n        const nextHtml = root(state, this.classNames);\n        const nextRoot = createDomElementFromHtml(nextHtml) as HTMLDivElement;\n        const diffCommand = domDiff(this.dom.root, nextRoot);\n\n        domPatch(this.dom.root, diffCommand);\n\n        if (key === 'selectedIndex') {\n            this.syncSelectWithValue(state.value);\n        }\n    }\n\n    public destroy(): void {\n        this.dom.select.classList.remove(this.classNames.select);\n\n        try {\n            this.dom.root.parentElement.replaceChild(this.dom.select, this.dom.root);\n        } catch (err) { /**/ }\n    }\n\n    private injectSelect(selectElement: HTMLSelectElement): void {\n        const parent = selectElement.parentElement;\n        const tempSelect = this.dom.select;\n\n        if (!parent) throw new Error('[EasyDropDown] The provided `<select>` element must exist within a document');\n\n        parent.replaceChild(this.dom.root, selectElement);\n\n        tempSelect.parentElement.replaceChild(selectElement, tempSelect);\n        selectElement.className = this.classNames.select;\n        selectElement.setAttribute('aria-hidden', 'true');\n\n        this.dom.select = selectElement;\n    }\n\n    private syncSelectWithValue(value: string): void {\n        if (this.dom.select.value === value) return;\n\n        const event = new CustomEvent('change', {\n            bubbles: true\n        });\n\n        this.dom.select.value = value;\n\n        this.dom.select.dispatchEvent(event);\n    }\n\n    public static queryDomRefs(dom: Dom, keys: string[] = Object.keys(dom)): Dom {\n        return keys\n            .reduce((localDom: Dom, ref: string) => {\n                const selector = `[data-ref~=\"${ref}\"]`;\n                const elements = localDom.root.querySelectorAll(selector);\n\n                if (elements.length < 1 || ref === 'root') return localDom;\n\n                const element = elements[0];\n                const value = localDom[ref];\n\n                if (value === null) {\n                    localDom[ref] = element;\n                } else if (Array.isArray(value)) {\n                    Array.prototype.push.apply(value, elements);\n                }\n\n                return localDom;\n            }, dom);\n    }\n}\n\nexport default Renderer;","import ClassNames       from '../Config/ClassNames';\nimport composeClassName from '../Shared/Util/composeClassName';\nimport State            from '../State/State';\n\nimport body from './body';\nimport head from './head';\n\nconst root = (state: State, classNames: ClassNames) => {\n    const className = composeClassName([\n        classNames.root,\n        [state.isDisabled, classNames.rootDisabled],\n        [state.isInvalid, classNames.rootInvalid],\n        [state.isOpen, classNames.rootOpen],\n        [state.isFocused, classNames.rootFocused],\n        [state.hasValue, classNames.rootHasValue],\n        [state.isOpenAbove, classNames.rootOpenAbove],\n        [state.isOpenBelow, classNames.rootOpenBelow],\n        [state.isUseNativeMode, classNames.rootNative]\n    ]);\n\n    return (`\n        <div\n            class=\"${className}\"\n            role=\"widget combobox\"\n            aria-haspopup=\"listbox\"\n            ${state.isOpen ? 'aria-expanded=\"true\"' : ''}\n            ${state.isRequired ? 'aria-required=\"true\"' : ''}\n            ${state.isDisabled ? 'aria-disabled=\"true\"' : ''}\n            ${state.isInvalid ? 'aria-invalid=\"true\"' : ''}\n        >\n            ${head(state, classNames)}\n            ${state.isUseNativeMode ? '' : body(state, classNames)}\n        </div>\n    `);\n};\n\nexport default root;","import ClassNames       from '../Config/ClassNames';\nimport composeClassName from '../Shared/Util/composeClassName';\nimport State            from '../State/State';\n\nimport group from './group';\n\nfunction body(state: State, classNames: ClassNames): string {\n    const className = composeClassName([\n        classNames.body,\n        [state.isAtTop, classNames.bodyAtTop],\n        [state.isAtBottom, classNames.bodyAtBottom],\n        [state.isScrollable, classNames.bodyScrollable]\n    ]);\n\n    const styleAttr = state.isOpen ?\n        `style=\"max-height: ${state.maxBodyHeight}px;\"` : '';\n\n    return (`\n        <div\n            class=\"${className}\"\n            data-ref=\"body\"\n            role=\"listbox\"\n            ${state.isOpen ? '' : 'aria-hidden'}\n        >\n            <div class=\"${classNames.itemsList}\"\n                data-ref=\"itemsList\"\n                ${styleAttr}>\n                ${state.groups.map(groupState => group(groupState, state, classNames)).join('')}\n            </div>\n            <div class=${classNames.gradientTop} role=\"presentation\"></div>\n            <div class=${classNames.gradientBottom} role=\"presentation\"></div>\n        </div>\n    `);\n}\n\nexport default body;","import ClassNames       from '../Config/ClassNames';\nimport composeClassName from '../Shared/Util/composeClassName';\nimport Group            from '../State/Group';\nimport State            from '../State/State';\n\nimport option from './option';\n\nconst group = (groupState: Group, state: State, classNames: ClassNames) => {\n    const className = composeClassName([\n        classNames.group,\n        [groupState.isDisabled, classNames.groupDisabled],\n        [groupState.hasLabel, classNames.groupHasLabel]\n    ]);\n\n    return (`\n        <div class=\"${className}\" data-ref=\"group\" role=\"group\">\n            ${groupState.hasLabel ?\n                `<div class=\"${classNames.groupLabel}\" data-ref=\"item\">${groupState.label}</div>` : ''\n            }\n            ${groupState.options.map(optionState => option(optionState, state, classNames)).join('')}\n        </div>\n    `);\n};\n\nexport default group;","import ClassNames       from '../Config/ClassNames';\nimport composeClassName from '../Shared/Util/composeClassName';\nimport Option           from '../State/Option';\nimport State            from '../State/State';\n\nfunction option(optionState: Option, state: State, classNames: ClassNames): string {\n    const isSelected = state.selectedOption === optionState;\n\n    const className = composeClassName([\n        classNames.option,\n        [isSelected, classNames.optionSelected],\n        [optionState === state.focusedOption, classNames.optionFocused],\n        [optionState.isDisabled, classNames.optionDisabled]\n    ]);\n\n    return (`\n        <div\n            class=\"${className}\"\n            data-ref=\"option item\"\n            role=\"option\"\n            title=\"${optionState.label}\"\n            ${isSelected ? 'aria-selected=\"true\"' : ''}\n            ${optionState.isDisabled ? 'aria-disabled=\"true\"' : ''}\n            >\n                ${optionState.label}\n        </div>\n    `);\n}\n\nexport default option;","import ClassNames from '../Config/ClassNames';\nimport State      from '../State/State';\n\nimport arrow from './arrow';\nimport value from './value';\n\nconst head = (state: State, classNames: ClassNames) => (`\n    <div class=\"${classNames.head}\" data-ref=\"head\">\n        ${value(state, classNames)}\n        ${arrow(state, classNames)}\n        <select class=\"${classNames.select}\" data-ref=\"select\"></select>\n    </div>\n`);\n\nexport default head;","import ClassNames from '../Config/ClassNames';\n\nconst arrow = (_, classNames: ClassNames) => `<div class=\"${classNames.arrow}\" role=\"presentation\"></div>`;\n\nexport default arrow;","import ClassNames from '../Config/ClassNames';\nimport State      from '../State/State';\n\nconst value = (state: State, classNames: ClassNames) => {\n    return (`\n        <div\n            class=\"${classNames.value}\"\n            data-ref=\"value\"\n            ${state.isPlaceholderShown ? `aria-placeholder=\"${state.humanReadableValue}\"` : ''}\n        >\n            ${state.humanReadableValue}\n        </div>\n    `);\n};\n\nexport default value;","function createDomElementFromHtml(html: string): Element {\n    const temp = document.createElement('div');\n\n    temp.innerHTML = html;\n\n    return temp.firstElementChild;\n}\n\nexport default createDomElementFromHtml;","class Dom {\n    public select:    HTMLSelectElement = null;\n    public root:      HTMLDivElement    = null;\n    public head:      HTMLDivElement    = null;\n    public value:     HTMLDivElement    = null;\n    public body:      HTMLDivElement    = null;\n    public arrow:     HTMLDivElement    = null;\n    public itemsList: HTMLDivElement    = null;\n    public item:      HTMLDivElement[]  = [];\n    public group:     HTMLDivElement[]  = [];\n    public option:    HTMLDivElement[]  = [];\n\n    public sumItemsHeight(max: number = Infinity): number {\n        let totalHeight = 0;\n\n        for (let i = 0, item; (item = this.item[i]); i++) {\n            if (i === max) break;\n\n            totalHeight += item.offsetHeight;\n        }\n\n        return totalHeight;\n    }\n}\n\nexport default Dom;","import merge from 'helpful-merge';\n\nimport AttributeChangeType  from './Constants/AttributeChangeType';\nimport DomChangeType        from './Constants/DomChangeType';\nimport IAttributeChange     from './Interfaces/IAttributeChange';\nimport IPatchCommand        from './Interfaces/IPatchCommand';\nimport PatchCommand         from './PatchCommand';\n\nfunction domDiff(prev: Node, next: Node): PatchCommand {\n    let totalChildNodes = -1;\n\n    const command = new PatchCommand();\n\n    if (prev instanceof HTMLSelectElement) {\n        command.type = DomChangeType.NONE;\n\n        return command;\n    }\n\n    if (prev instanceof Text && next instanceof Text) {\n        if (prev.textContent === next.textContent) {\n            command.type = DomChangeType.NONE;\n        } else {\n            command.type = DomChangeType.INNER;\n            command.newTextContent = next.textContent;\n        }\n    } else if (prev instanceof HTMLElement && next instanceof HTMLElement) {\n        if (prev.tagName !== next.tagName) {\n            command.type = DomChangeType.REPLACE;\n            command.newNode = next;\n        } else if (prev.outerHTML === next.outerHTML) {\n            command.type = DomChangeType.NONE;\n        } else if (prev.innerHTML === next.innerHTML) {\n            merge(command, diffAttributeChanges(prev, next));\n        } else {\n            merge(command, diffAttributeChanges(prev, next));\n\n            if (command.attributeChanges.length > 0) {\n                command.type = DomChangeType.FULL;\n            } else {\n                command.type = DomChangeType.INNER;\n            }\n\n            if ((totalChildNodes = prev.childNodes.length) > 0 && totalChildNodes === next.childNodes.length) {\n                for (let i = 0, childNode; (childNode = prev.childNodes[i]); i++) {\n                    command.childCommands.push(domDiff(childNode, next.childNodes[i]));\n                }\n            } else {\n                command.newInnerHtml = next.innerHTML;\n            }\n        }\n    } else {\n        command.type = DomChangeType.REPLACE;\n        command.newNode = next;\n    }\n\n    return command;\n}\n\nfunction diffAttributeChanges(prev: HTMLElement, next: HTMLElement): IPatchCommand {\n    const totalAttributes = Math.max(prev.attributes.length, next.attributes.length);\n    const attributesMap   = {};\n    const undef           = void(0);\n    const attributeChanges: IAttributeChange[] = [];\n\n    for (let i = 0; i < totalAttributes; i++) {\n        const attr1 = prev.attributes[i];\n        const attr2 = next.attributes[i];\n\n        if (attr1 && attributesMap[attr1.name] === undef) {\n            attributesMap[attr1.name] = [];\n        }\n\n        if (attr2 && attributesMap[attr2.name] === undef) {\n            attributesMap[attr2.name] = [];\n        }\n\n        if (attr1) attributesMap[attr1.name][0] = attr1.value;\n        if (attr2) attributesMap[attr2.name][1] = attr2.value;\n    }\n\n    const keys = Object.keys(attributesMap);\n\n    if (keys.length > 1) {\n        keys.sort();\n    }\n\n    for (let i = 0, key; (key = keys[i]); i++) {\n        const attr = attributesMap[key];\n\n        const change: IAttributeChange = {\n            type: null,\n            name: key,\n            value: null\n        };\n\n        if (attr[0] === attr[1]) continue;\n\n        if (attr[0] === undef) {\n            change.type = AttributeChangeType.ADD;\n            change.value = attr[1];\n        } else if (attr[1] === undef) {\n            change.type = AttributeChangeType.REMOVE,\n            change.value = '';\n        } else {\n            change.type = AttributeChangeType.EDIT,\n            change.value = attr[1];\n        }\n\n        attributeChanges.push(change);\n    }\n\n    return {\n        type: DomChangeType.OUTER,\n        attributeChanges\n    };\n}\n\nexport default domDiff;","import DomChangeType    from './Constants/DomChangeType';\nimport IAttributeChange from './Interfaces/IAttributeChange';\n\nclass PatchCommand {\n    public type:             DomChangeType;\n    public newNode:          Node               = null;\n    public newInnerHtml:     string             = '';\n    public newTextContent:   string             = '';\n    public attributeChanges: IAttributeChange[] = [];\n    public childCommands:    PatchCommand[]      = [];\n    public index:            number             = null;\n}\n\nexport default PatchCommand;","import AttributeChangeType from './Constants/AttributeChangeType';\nimport DomChangeType       from './Constants/DomChangeType';\nimport IAttributeChange    from './Interfaces/IAttributeChange';\nimport PatchCommand        from './PatchCommand';\n\nfunction domPatch(node: Node, command: PatchCommand): Node {\n    switch (command.type) {\n        case DomChangeType.NONE:\n            return node;\n        case DomChangeType.REPLACE:\n            node.parentElement.replaceChild(command.newNode, node);\n\n            return command.newNode;\n        case DomChangeType.INNER:\n            if (node instanceof Text) {\n                node.textContent = command.newTextContent;\n            } else if (command.childCommands.length > 0) {\n                command.childCommands.forEach((childCommand, i) => domPatch(node.childNodes[i], childCommand));\n            } else {\n                (node as HTMLElement).innerHTML = command.newInnerHtml;\n            }\n\n            return node;\n        case DomChangeType.OUTER:\n            patchAttributes(node as HTMLElement, command.attributeChanges);\n\n            return node;\n        case DomChangeType.FULL:\n            if (command.childCommands.length > 0) {\n                command.childCommands.forEach((childCommand, i) => domPatch(node.childNodes[i], childCommand));\n            } else {\n                (node as HTMLElement).innerHTML = command.newInnerHtml;\n            }\n\n            patchAttributes(node as HTMLElement, command.attributeChanges);\n\n            return node;\n    }\n}\n\nfunction patchAttributes(el: HTMLElement, attributeChanges: IAttributeChange[]): void {\n    const raf = window.requestAnimationFrame;\n\n    attributeChanges.forEach(change => {\n        if (raf && ['class', 'style'].indexOf(change.name) > -1) {\n            raf(() => patchAttribute(el, change));\n        } else {\n            patchAttribute(el, change);\n        }\n    });\n}\n\nfunction patchAttribute(el: HTMLElement, change: IAttributeChange): void {\n    switch (change.type) {\n        case AttributeChangeType.ADD:\n        case AttributeChangeType.EDIT:\n            el.setAttribute(change.name, change.value);\n\n            break;\n        case AttributeChangeType.REMOVE:\n            el.removeAttribute(change.name);\n\n            break;\n    }\n}\n\nexport default domPatch;","import Config from '../../Config/Config';\nimport IActions from '../../State/Interfaces/IActions';\nimport State    from '../../State/State';\n\nconst POLL_INTERVAL_DURATION = 100;\n\nfunction pollForSelectChange(\n    selectElement: HTMLSelectElement,\n    state: State,\n    actions: IActions,\n    config: Config\n): number {\n    let lastValue: string = selectElement.value;\n\n    const pollIntervalId = window.setInterval(() => {\n        if (selectElement.value !== lastValue) {\n            const selectedIndex = state.getOptionIndexFromValue(selectElement.value);\n\n            actions.selectOption(selectedIndex, config.behavior.closeOnSelect);\n            actions.focusOption(selectedIndex, true);\n        }\n\n        lastValue = selectElement.value;\n    }, POLL_INTERVAL_DURATION);\n\n    return pollIntervalId;\n}\n\nexport default pollForSelectChange;","import State from '../../State/State';\n\nconst POLL_INTERVAL_DURATION = 300;\n\nfunction pollForSelectMutation(selectElement: HTMLSelectElement, state: State, handleMutation: () => void): number {\n    let lastOuterHtml: string = selectElement.outerHTML;\n\n    const pollIntervalId = window.setInterval(() => {\n        const {outerHTML} = selectElement;\n\n        if (outerHTML !== lastOuterHtml && !state.isKeying) {\n            handleMutation();\n        }\n\n        lastOuterHtml = outerHTML;\n    }, POLL_INTERVAL_DURATION);\n\n    return pollIntervalId;\n}\n\nexport default pollForSelectMutation;","import Easydropdown from '../../Easydropdown/Easydropdown';\n\nfunction closeOthers(thisInstance: Easydropdown, cache: Easydropdown[]): void {\n    for (const instance of cache) {\n        if (instance !== thisInstance) instance.actions.close();\n    }\n}\n\nexport default closeOthers;","import Timers from '../../Easydropdown/Timers';\nimport Dom    from '../../Renderer/Dom';\nimport State  from '../../State/State';\n\nfunction getScrollTop(\n    currentScrollTop: number,\n    optionOffsetTop: number,\n    optionHeight: number,\n    bodyHeight: number,\n    scrollOffset: number\n): number {\n    const max = currentScrollTop + bodyHeight;\n\n    let remainder: number;\n\n    if (optionOffsetTop < currentScrollTop) {\n        return optionOffsetTop - scrollOffset;\n    } else if ((remainder = (optionOffsetTop + optionHeight) - max) > 0) {\n        return currentScrollTop + remainder + scrollOffset;\n    }\n\n    return currentScrollTop;\n}\n\nfunction scrollToView(dom: Dom, timers: Timers, state: State, scrollToMiddle: boolean = false): void {\n    const index = Math.max(0, state.focusedIndex > -1 ? state.focusedIndex : state.selectedIndex);\n    const option = dom.option[index];\n\n    if (!option) return;\n\n    const offset = scrollToMiddle ? (state.maxBodyHeight / 2) - (option.offsetHeight / 2) : 0;\n\n    const scrollTop = getScrollTop(\n        dom.itemsList.scrollTop,\n        option.offsetTop,\n        option.offsetHeight,\n        state.maxBodyHeight,\n        offset\n    );\n\n    if (scrollTop === dom.itemsList.scrollTop) return;\n\n    dom.itemsList.scrollTop = scrollTop;\n}\n\nexport {\n    getScrollTop,\n    scrollToView as default\n};","import merge from 'helpful-merge';\n\nimport IActions            from './Interfaces/IActions';\nimport IOnAction           from './Interfaces/IOnAction';\nimport IPropertyDescriptor from './Interfaces/IPropertyDescriptor';\nimport resolveActions      from './resolveActions';\nimport State               from './State';\n\nclass StateManager {\n    public static proxyActions(state: State, injectedActions: any, onAction: IOnAction): IActions {\n        const stateProxy = StateManager.createStateProxy(state, onAction);\n        const actions = resolveActions(stateProxy);\n\n        merge(actions, injectedActions);\n\n        return actions;\n    }\n\n    private static createStateProxy(state: State, onAction: IOnAction): State {\n        return Object.seal(\n            StateManager\n                .getPropertyDescriptorsFromValue(state, onAction)\n                .reduce((proxy, {key, get, set}) => Object.defineProperty(\n                    proxy,\n                    key,\n                    {\n                        enumerable: true,\n                        get,\n                        set\n                    }\n                ), {})\n        );\n    }\n\n    private static getPropertyDescriptorsFromValue(state: State, onAction: IOnAction): IPropertyDescriptor[] {\n        const prototype = Object.getPrototypeOf(state);\n        const allKeys = Object.keys(state).concat(Object.keys(prototype));\n\n        return allKeys\n            .reduce((localDescriptors, key) => {\n                const propertyDescriptor =\n                    Object.getOwnPropertyDescriptor(state, key) ||\n                    Object.getOwnPropertyDescriptor(prototype, key);\n\n                const isAccessorProperty = typeof propertyDescriptor.get === 'function';\n\n                localDescriptors.push({\n                    get: StateManager.readPropertyValue.bind(null, state, key),\n                    set: isAccessorProperty ?\n                        void 0 : StateManager.updatePropertyValue.bind(null, state, key, onAction),\n                    key\n                });\n\n                return localDescriptors;\n            }, []);\n    }\n\n    private static readPropertyValue(state: State, key: string): any {\n        return state[key];\n    }\n\n    private static updatePropertyValue(state: State, key: string, onAction: IOnAction, value: any): void {\n        if (state[key] === value) return;\n\n        state[key] = value;\n\n        onAction(state, key);\n    }\n}\n\nexport default StateManager;","import CollisionType  from '../Shared/Util/Constants/CollisionType';\r\n\r\nimport BodyStatus   from './Constants/BodyStatus';\r\nimport ScrollStatus from './Constants/ScrollStatus';\r\nimport IActions     from './Interfaces/IActions';\r\nimport State        from './State';\r\n\r\nconst resolveActions = (state: State): IActions => ({\r\n    focus(): void {\r\n        state.isFocused = true;\r\n    },\r\n\r\n    blur(): void {\r\n        state.isFocused = false;\r\n    },\r\n\r\n    invalidate(): void {\r\n        state.isInvalid = true;\r\n    },\r\n\r\n    validate(): void {\r\n        state.isInvalid = false;\r\n    },\r\n\r\n    topOut(): void {\r\n        state.scrollStatus = ScrollStatus.AT_TOP;\r\n    },\r\n\r\n    bottomOut(): void {\r\n        state.scrollStatus = ScrollStatus.AT_BOTTOM;\r\n    },\r\n\r\n    scroll(): void {\r\n        state.scrollStatus = ScrollStatus.SCROLLED;\r\n    },\r\n\r\n    makeScrollable(): void {\r\n        state.isScrollable = true;\r\n    },\r\n\r\n    makeUnscrollable(): void {\r\n        state.isScrollable = false;\r\n    },\r\n\r\n    open(\r\n        this: IActions,\r\n        maxBodyHeight: number,\r\n        collisionType: CollisionType,\r\n        isScrollable: boolean\r\n    ): void {\r\n        if (state.isDisabled) return;\r\n\r\n        this.closeOthers();\r\n\r\n        switch (collisionType) {\r\n            case CollisionType.NONE:\r\n            case CollisionType.TOP:\r\n                state.bodyStatus = BodyStatus.OPEN_BELOW;\r\n\r\n                break;\r\n            case CollisionType.BOTTOM:\r\n                state.bodyStatus = BodyStatus.OPEN_ABOVE;\r\n\r\n                break;\r\n        }\r\n\r\n        state.isScrollable = isScrollable;\r\n        state.maxBodyHeight = maxBodyHeight;\r\n\r\n        this.scrollToView(state, true);\r\n    },\r\n\r\n    close(): void {\r\n        state.bodyStatus = BodyStatus.CLOSED;\r\n        state.focusedIndex = -1;\r\n\r\n        this.blur();\r\n    },\r\n\r\n    startClickSelecting(): void {\r\n        state.isClickSelecting = true;\r\n    },\r\n\r\n    selectOption(this: IActions, index: number, close = true): void {\r\n        const optionAtIndex = state.getOptionFromIndex(index);\r\n\r\n        state.isClickSelecting = false;\r\n\r\n        if (index > -1 && (!optionAtIndex || optionAtIndex.isDisabled)) return;\r\n\r\n        state.selectedIndex = index;\r\n\r\n        if (state.isInvalid && state.hasValue) {\r\n            this.validate();\r\n        }\r\n\r\n        if (state.isSearching) {\r\n            this.scrollToView(state);\r\n        } else if (close) {\r\n            this.close();\r\n        }\r\n    },\r\n\r\n    focusOption(this: IActions, index: number, shouldScrollToView: boolean = false): void {\r\n        const scrollToMiddle = Math.abs(index - state.focusedIndex) > 1;\r\n\r\n        state.focusedIndex = index;\r\n\r\n        if (shouldScrollToView) {\r\n            this.scrollToView(state, scrollToMiddle);\r\n        }\r\n    },\r\n\r\n    search(): void {\r\n        state.isSearching = true;\r\n    },\r\n\r\n    resetSearch(): void {\r\n        state.isSearching = false;\r\n    },\r\n\r\n    keying(): void {\r\n        state.isKeying = true;\r\n    },\r\n\r\n    resetKeying(): void {\r\n        state.isKeying = false;\r\n    },\r\n\r\n    useNative(): void {\r\n        state.isUseNativeMode = true;\r\n    }\r\n});\r\n\r\nexport default resolveActions;","import merge from 'helpful-merge';\r\n\r\nimport Config from '../Config/Config';\r\nimport getIsMobilePlatform from '../Shared/Util/getIsMobilePlatform';\r\n\r\nimport Group  from './Group';\r\nimport Option from './Option';\r\nimport State  from './State';\r\n\r\nclass StateMapper {\r\n    public static mapFromSelect(selectElement: HTMLSelectElement, config: Config): State {\r\n        const state = new State(null, config);\r\n\r\n        let isWithinGroup = false;\r\n\r\n        state.name = selectElement.name;\r\n        state.isDisabled = selectElement.disabled;\r\n        state.isRequired = selectElement.required;\r\n\r\n        state.isUseNativeMode = (\r\n            config.behavior.useNativeUiOnMobile &&\r\n            getIsMobilePlatform(window.navigator.userAgent)\r\n        );\r\n\r\n        for (let i = 0, child: Element; (child = selectElement.children[i]); i++) {\r\n            if (i === 0 && child.getAttribute('data-placeholder') !== null) {\r\n                state.placeholder = child.textContent;\r\n                (child as HTMLOptionElement).value = '';\r\n\r\n                continue;\r\n            }\r\n\r\n            if (child instanceof HTMLOptionElement) {\r\n                if (isWithinGroup === false) {\r\n                    state.groups.push(StateMapper.mapGroup());\r\n\r\n                    isWithinGroup = true;\r\n                }\r\n\r\n                state.lastGroup.options.push(StateMapper.mapOption(child));\r\n\r\n                if (child.selected) state.selectedIndex = state.totalOptions - 1;\r\n            } else if (child instanceof HTMLOptGroupElement) {\r\n                isWithinGroup = true;\r\n\r\n                state.groups.push(StateMapper.mapGroup(child));\r\n\r\n                for (let j = 0, groupChild: Element; (groupChild = child.children[j]); j++) {\r\n                    state.lastGroup.options.push(\r\n                        StateMapper.mapOption(\r\n                            groupChild as HTMLOptionElement,\r\n                            child as HTMLOptGroupElement\r\n                        )\r\n                    );\r\n\r\n                    if ((groupChild as HTMLOptionElement).selected) state.selectedIndex = state.totalOptions - 1;\r\n                }\r\n\r\n                isWithinGroup = false;\r\n            } else {\r\n                throw new TypeError(\r\n                    `[EasyDropDown] Invalid child tag \"${child.tagName}\" found in provided \\`<select>\\` element`\r\n                );\r\n            }\r\n        }\r\n\r\n        return Object.seal(state);\r\n    }\r\n\r\n    private static mapGroup(group: HTMLOptGroupElement = null): Group {\r\n        return merge(new Group(), {\r\n            label: group ? group.label : '',\r\n            isDisabled: group ? group.disabled : false\r\n        });\r\n    }\r\n\r\n    private static mapOption(option: HTMLOptionElement, group: HTMLOptGroupElement = null): Option {\r\n        if (!(option instanceof HTMLOptionElement)) throw new TypeError('[EasyDropDown] Invalid markup structure');\r\n\r\n        const isParentGroupDisabled = group !== null && group.disabled;\r\n\r\n        return merge(new Option(), {\r\n            label: option.textContent,\r\n            value: option.value,\r\n            isDisabled: option.disabled || isParentGroupDisabled\r\n        });\r\n    }\r\n}\r\n\r\nexport default StateMapper;","import merge from 'helpful-merge';\r\n\r\nimport Config from '../Config/Config';\r\n\r\nimport BodyStatus   from './Constants/BodyStatus';\r\nimport ScrollStatus from './Constants/ScrollStatus';\r\nimport Group        from  './Group';\r\nimport Option       from './Option';\r\n\r\nclass State {\r\n    public groups:                  Group[]      = [];\r\n    public focusedIndex:            number       = -1;\r\n    public selectedIndex:           number       = -1;\r\n    public maxVisibleItemsOverride: number       = -1;\r\n    public maxBodyHeight:           number       = -1;\r\n    public name:                    string       = '';\r\n    public placeholder:             string       = '';\r\n    public scrollStatus:            ScrollStatus = ScrollStatus.AT_TOP;\r\n    public bodyStatus:              BodyStatus   = BodyStatus.CLOSED;\r\n    public isDisabled:              boolean      = false;\r\n    public isRequired:              boolean      = false;\r\n    public isInvalid:               boolean      = false;\r\n    public isFocused:               boolean      = false;\r\n    public isUseNativeMode:         boolean      = false;\r\n    public isScrollable:            boolean      = false;\r\n    public isClickSelecting:        boolean      = false;\r\n    public isSearching:             boolean      = false;\r\n    public isKeying:                boolean      = false;\r\n\r\n    private config: Config;\r\n\r\n    constructor(stateRaw: any = null, config = new Config()) {\r\n        this.config = config;\r\n\r\n        if (!stateRaw) return;\r\n\r\n        merge(this, stateRaw);\r\n\r\n        this.groups = this.groups.map((groupRaw) => {\r\n            const group = merge(new Group(), groupRaw);\r\n\r\n            group.options = group.options.map(optionRaw => merge(new Option(), optionRaw));\r\n\r\n            return group;\r\n        });\r\n    }\r\n\r\n    public get totalGroups(): number {\r\n        return this.groups.length;\r\n    }\r\n\r\n    public get lastGroup(): Group {\r\n        return this.groups[this.groups.length - 1];\r\n    }\r\n\r\n    public get totalOptions(): number {\r\n        return this.groups.reduce((total: number, group: Group) => total + group.totalOptions, 0);\r\n    }\r\n\r\n    public get selectedOption(): Option {\r\n        return this.getOptionFromIndex(this.selectedIndex);\r\n    }\r\n\r\n    public get focusedOption(): Option {\r\n        return this.getOptionFromIndex(this.focusedIndex);\r\n    }\r\n\r\n    public get value(): string {\r\n        return this.selectedOption ? this.selectedOption.value : '';\r\n    }\r\n\r\n    public get humanReadableValue(): string {\r\n        if (\r\n            (!this.hasValue && this.hasPlaceholder) ||\r\n            (\r\n                this.config.behavior.showPlaceholderWhenOpen &&\r\n                this.hasPlaceholder &&\r\n                this.isOpen\r\n            )\r\n        ) {\r\n            return this.placeholder;\r\n        }\r\n\r\n        return this.label;\r\n    }\r\n\r\n    public get label(): string {\r\n        return this.selectedOption ? this.selectedOption.label : '';\r\n    }\r\n\r\n    public get hasPlaceholder(): boolean {\r\n        return this.placeholder !== '';\r\n    }\r\n\r\n    public get isPlaceholderShown(): boolean {\r\n        return this.hasPlaceholder && !this.hasValue;\r\n    }\r\n\r\n    public get hasValue(): boolean {\r\n        return this.value !== '';\r\n    }\r\n\r\n    public get isGrouped(): boolean {\r\n        return Boolean(this.groups.find(group => group.hasLabel));\r\n    }\r\n\r\n    public get isOpen(): boolean {\r\n        return this.bodyStatus !== BodyStatus.CLOSED;\r\n    }\r\n\r\n    public get isClosed(): boolean {\r\n        return this.bodyStatus === BodyStatus.CLOSED;\r\n    }\r\n\r\n    public get isOpenAbove(): boolean {\r\n        return this.bodyStatus === BodyStatus.OPEN_ABOVE;\r\n    }\r\n\r\n    public get isOpenBelow(): boolean {\r\n        return this.bodyStatus === BodyStatus.OPEN_BELOW;\r\n    }\r\n\r\n    public get isAtTop(): boolean {\r\n        return this.scrollStatus === ScrollStatus.AT_TOP;\r\n    }\r\n\r\n    public get isAtBottom(): boolean {\r\n        return this.scrollStatus === ScrollStatus.AT_BOTTOM;\r\n    }\r\n\r\n    public getOptionFromIndex(index: number): Option {\r\n        let groupStartIndex = 0;\r\n\r\n        for (const group of this.groups) {\r\n            if (index < 0 ) break;\r\n\r\n            const groupEndIndex = Math.max(0, groupStartIndex + group.totalOptions - 1);\r\n\r\n            if (index <= groupEndIndex) {\r\n                const option = group.options[index - groupStartIndex];\r\n\r\n                return option;\r\n            }\r\n\r\n            groupStartIndex += group.totalOptions;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public getOptionIndexFromValue(value: string): number {\r\n        let index: number = -1;\r\n\r\n        for (const group of this.groups) {\r\n            for (const option of group.options) {\r\n                index++;\r\n\r\n                if (option.value === value) {\r\n                    return index;\r\n                }\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport default State;","class Timers {\n    public pollChangeIntervalId: number;\n    public pollMutationIntervalId: number;\n    public searchTimeoutId: number;\n    public keyingTimeoutId: number;\n\n    public clear(): void {\n        Object.keys(this).forEach(key => window.clearInterval(this[key]));\n    }\n}\n\nexport default Timers;","import Easydropdown from './Easydropdown';\r\n\r\nclass EasydropdownFacade {\r\n    /**\r\n     * Programmatically opens the dropdown, closing any\r\n     * other open instances.\r\n     */\r\n\r\n    public open: () => void;\r\n\r\n    /**\r\n     * Programmatically closes the dropdown.\r\n     */\r\n\r\n    public close: () => void;\r\n\r\n    /**\r\n     * Refreshes the instance and updates the DOM in\r\n     * response to a change in the underlying `<select>`\r\n     * element (for example, adding or removing an option).\r\n     */\r\n\r\n    public refresh: () => void;\r\n\r\n    /**\r\n     * Validates the instance by checking\r\n     * the current state whether dropown is required\r\n     * and a selection was made\r\n     *\r\n     * @returns boolean whether the dropdown is valid\r\n     */\r\n\r\n    public validate: () => boolean;\r\n\r\n    /**\r\n     * Destroys the instance by removing all EasyDropDown-generated\r\n     * elements from the DOM, and unbinding all event handlers.\r\n     * The underlying select is returned to the root position.\r\n     */\r\n\r\n    public destroy: () => void;\r\n\r\n    /**\r\n     * An accessor property allowing writing to and reading\r\n     * from the dropdown's value.\r\n     */\r\n\r\n    public value: string;\r\n\r\n    constructor(implementation: Easydropdown) {\r\n        this.open = implementation.open.bind(implementation);\r\n        this.close = implementation.close.bind(implementation);\r\n        this.refresh = implementation.refresh.bind(implementation);\r\n        this.destroy = implementation.destroy.bind(implementation);\r\n        this.validate = implementation.validate.bind(implementation);\r\n\r\n        Object.defineProperties(this, {\r\n            value: {\r\n                get: () => implementation.value,\r\n                set: (nextValue: string) => implementation.value = nextValue\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default EasydropdownFacade;"],"sourceRoot":""}